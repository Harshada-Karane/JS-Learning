<html>
    <script>
        class Node {
            constructor(value){
                this.value = value
                this.next = null
            }
        }

        class LinkedList{
            constructor(){
                this.head = null
                this.size = 0
            }
            isEmpty(){
                return this.size === 0
            }

            getSize(){
                return this.size
            }
            //insert element from front
            prepend(value){
                const node = new Node(value)
                if(this.isEmpty()){
                    this.head = node
                } else {
                    node.next = this.head
                    this.head = node
                }
                this.size++
            }

            append(value){
                const node = new Node(value)
                if(this.isEmpty()){
                    this.head = node
                } else {
                    let prev = this.head
                    while(prev.next){
                        prev = prev.next
                    }
                    prev.next = node
                }
                this.size++
            }

            insert(value, index){
                if(index < 0 || index > this.size){
                    return
                }

                if(index === 0){
                    this.prepend(value)
                } else {
                    const node = new Node(value)
                    let prev = this.head

                    for(let i = 0; i < index -1; i++){
                        prev = prev.next
                    }
                    node.next = prev.next
                    prev.next = node
                    this.size++
                }
            }

            remove(index){
                if(index < 0 || index >= this.size){
                    console.log(`Item cannont be removed`);
                    return null
                }
                let removedNode = ""
                if(index === 0){
                    removedNode = this.head
                    this.head = this.head.next
                } else {
                    let prev = this.head
                    for(let i = 0; i < index - 1; i++){
                        prev = prev.next
                    }
                    removedNode = prev.next
                    prev.next = removedNode.next
                }
                this.size--
                return removedNode.value
            }

            print(){
                if(this.isEmpty()){
                    console.log(`List is empty`);
                } else {
                    let current = this.head,
                    items = ""
                    while(current){
                        items += `${current.value} `
                        current = current.next
                    }
                    console.log(items);
                }
            }
        }

        // const list = new LinkedList();
        // list.prepend(10);
        // console.log(list.getSize());
        // list.prepend(20)
        // list.prepend(30)
        // list.print()

        /* const list1 = new LinkedList()
        list1.append(10)
        list1.append(20)
        list1.append(30)
        list1.print() */

        // const list2 = new LinkedList()
        // list2.insert(50, 0)
        // list2.insert(60, 1)
        // list2.insert(80, 1)
        // list2.insert(70, 2)
        // list2.print()       //50 80 70 60

        const list3 = new LinkedList()
        list3.append(10)
        list3.append(20)
        list3.append(30)
        console.log(list3.getSize());
        list3.print()

        list3.remove(3)
        list3.print()
    </script>
</html>